From 3d480736a4e03bb927cbd684cbdf3717e0313135 Mon Sep 17 00:00:00 2001
From: huxin <wb-hx963136@alibaba-inc.com>
Date: Thu, 7 Mar 2024 16:17:40 +0800
Subject: [PATCH 09/27] mpeg4: fix decoding stuck issue when width is odd

---
 libavcodec/omxdecoder.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/libavcodec/omxdecoder.c b/libavcodec/omxdecoder.c
index 81804cae6d..005339e816 100644
--- a/libavcodec/omxdecoder.c
+++ b/libavcodec/omxdecoder.c
@@ -1427,6 +1427,8 @@ static av_cold int omx_component_init_decoder(AVCodecContext *avctx, const char
     if (s->output_height)
         avctx->height = s->output_height;
 
+    if (avctx->width & 1)
+        avctx->width++;
 
 
     INIT_STRUCT(in_port_params);
-- 
2.40.1

